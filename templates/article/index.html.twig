{% extends 'base.html.twig' %}

{% block title %}Новости компании{% endblock %}

{% block body %}
    <h1>Article index</h1>

    <table class="table">
        <thead>
            <tr>
                <th>Id</th>
                <th>Title</th>
                <th>Comment_foto</th>
                <th>Article</th>
                <th>Comment_auxiliary_one</th>
                <th>Author</th>
                <th>Preview</th>
                <th>actions</th>
                
            </tr>
        </thead>
        <tbody>
        {% for article in articles %}
            <tr>
                <td>{{ article.id }}</td>
                <td>{{ article.title }}</td>
                <td>{{ article.commentFoto }}</td>
                <td>{{ article.article }}</td>
                <td>{{ article.commentAuxiliaryOne }}</td>
                <td>{{ article.author }}</td>
                <td>{{ article.preview }}</td>
                
                    <a href="{{ path('article_show', {'id': article.id}) }}">show</a>
                    <a href="{{ path('article_edit', {'id': article.id}) }}">edit</a>
                </td>
            </tr>
        {% else %}
            <tr>
                <td colspan="8">no records found</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>

    <a href="{{ path('article_new') }}">Create new</a>

    <section class="page_news">
        <div class="container">
            <div class="news_top">
                <div class="news_title-box">
                    <div class="news_title">
                        Новости компании
                    </div>
                    <div class="news_text">
                        Тут вы всегда найдете свежие новости
                    </div>
                </div>
            </div>
            <div class="page_news-search">
                <input type="text" id="elastic" name="filter-contacts" class="" placeholder="Поиск новостей">
            </div>
            <div class="news_inner elastic" id="">
                <div class="news_slider" >
                    <div class="news_slider-inner">
                        <div class="news_slider-item">
                            <div class="news_slider-title">
                                Право.ru: законодательство, судебная система, новости и ...
                            </div>
                            <div class="news_slider-text">
                                Депутаты Госдумы на пленарном заседании 7 декабря приняли во втором чтении законопроект о регулировании дистанционного участия в судебном процессе. Поправки вносятся в Арбитражный процессуальный кодекс, Гражданский процессуальный кодекс, Кодекс административного судопроизводства и корреспондирующие нормативные акты.
                                Документ разрешает направлять исковые заявления, жалобы, представления и тому подобное в электронном виде с помощью портала «Госуслуги», системы электронного документооборота либо системы, которую определит Верховный суд или Суддеп. Такие документы достаточно будет подписать простой электронной подписью, если процессуальное законодательство не требует иного, за исключением системы электронного документооборота — в ней всегда потребуется усиленная квалифицированная подпись.
                            </div>
                            <div class="news_slider-author">
                                Анастасия Синченкова
                            </div>
                        </div>
                        <div class="news_slider-item">
                            <div class="news_slider-title">
                                Право.ru: законодательство, судебная система, новости и ...
                            </div>
                            <div class="news_slider-text">
                                Депутаты Госдумы на пленарном заседании 7 декабря приняли во втором чтении законопроект о регулировании дистанционного участия в судебном процессе. Поправки вносятся в Арбитражный процессуальный кодекс, Гражданский процессуальный кодекс, Кодекс административного судопроизводства и корреспондирующие нормативные акты.
                                Документ разрешает направлять исковые заявления, жалобы, представления и тому подобное в электронном виде с помощью портала «Госуслуги», системы электронного документооборота либо системы, которую определит Верховный суд или Суддеп. Такие документы достаточно будет подписать простой электронной подписью, если процессуальное законодательство не требует иного, за исключением системы электронного документооборота — в ней всегда потребуется усиленная квалифицированная подпись.
                            </div>
                            <div class="news_slider-author">
                                Анастасия Синченкова
                            </div>
                        </div>
                        <div class="news_slider-item">
                            <div class="news_slider-title">
                                Право.ru: законодательство, судебная система, новости и ...
                            </div>
                            <div class="news_slider-text">
                                Депутаты Госдумы на пленарном заседании 7 декабря приняли во втором чтении законопроект о регулировании дистанционного участия в судебном процессе. Поправки вносятся в Арбитражный процессуальный кодекс, Гражданский процессуальный кодекс, Кодекс административного судопроизводства и корреспондирующие нормативные акты.
                                Документ разрешает направлять исковые заявления, жалобы, представления и тому подобное в электронном виде с помощью портала «Госуслуги», системы электронного документооборота либо системы, которую определит Верховный суд или Суддеп. Такие документы достаточно будет подписать простой электронной подписью, если процессуальное законодательство не требует иного, за исключением системы электронного документооборота — в ней всегда потребуется усиленная квалифицированная подпись.
                            </div>
                            <div class="news_slider-author">
                                Анастасия Синченкова
                            </div>
                        </div>
                    </div>
                </div>
                {% for article in articles %}
                <div id="link">
                    <a id="c_1" href="{{ path('article_show', {'id': article.id}) }}" class="page news_blog none" data-filter-tags="{{ article.title }}">
                        <div class="news_images">
                            <img src="img/news_1.jpeg" alt="">
                            <div class="news_date">03.04</div>
                        </div>
                        <div class="news_blog-title">
                            {{ article.title }}
                        </div>
                        <div class="news_blog-text">
                            {{ article.preview }}
                        </div>    
                    </a> 
                    
                            {% if is_granted('ROLE_SUPER_ADMIN') %}
                            <a href="{{ path('article_edit', {'id': article.id}) }}" class="default-btn">
                                Редактировать
                            </a>
                            <a  href="" class="default-btn">
                                Удалить
                            </a>
                            {% endif %}        
                          
                </div>
                
        {% endfor %}
            </div>
        </div>
    </section>
    <footer class="footer">
        <div class="footer_content">
            <div class="container">
                <div class="footer_inner">
                    <div class="footer_info">
                        <div class="footer_title">
                            Юрист по гражданству в турции - Русскоговорящий турецкий...
                        </div>
                        <div class="footer_text">
                            Нужна надежная юридическая поддержка для ваших сделок с недвижимостью и гражданством. Наше бюро, состоящее из опытной команды, предоставляет решение...
                        </div>
                        <a data-fancybox data-src="#hidden-content" href="javascript:;" class="header_btn">
                            Бесплатная консультация
                        </a>
                        <ul class="footer_list">
                            <li><a class="footer_phone" href="tel:79957771830">+7 (995) 777 18 30</a></li>
                            <li><a  href="#">mvlju977@gmail.com</a></li>
                            <li><a class="footer_adress" href="#">224. Sk. 3 A Hurma, 224. Sk. 3 A, 07130 Bahtılı Köyü Köyü/Konyaaltı/Antalya</a></li>
                        </ul>
                    </div>
                    <div class="footer_map">
                        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12769.001896835982!2d30.602218242904456!3d36.86042302995611!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x14c393c2dbf54b39%3A0x85d588ae3693fa3b!2zSHVybWEsIDIyNC4gU2suIDMgQSwgMDcxMzAgQmFodMSxbMSxIEvDtnnDvCBLw7Z5w7wvS29ueWFhbHTEsS9BbnRhbHlh!5e0!3m2!1sru!2str!4v1638958614135!5m2!1sru!2str"  height="320px" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
                    </div>
                </div>
            </div>
        </div>
        <div class="footer_copy">
            <div class="container">
                <div class="copy_text">
                    2017 Template by Anastasia Shaposhnyk. Все права защищены.
                </div>
            </div>
        </div>
    </footer>
{% endblock %}
{% block javascripts %}
<script>
        document.querySelector('#elastic').oninput = function(){
            let val = this.value.trim();
            let elemNews = document.querySelectorAll('.elastic .none');
            let elsticItems = document.querySelectorAll('.elastic a .news_blog-title');
            if(val != ''){
                elemNews.forEach(function(elem){
                    let value = elem.getAttribute('data-filter-tags');
                    if(value.search(val) == -1){
                        elem.classList.add('hide');      
                    }
                    else{
                        elem.classList.remove('hide');
                    }
                });
            }
            else{
                elemNews.forEach(function(elem){
                        elem.classList.remove('hide');      
                    });
            }
        }
    </script>
{% endblock %}
